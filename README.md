在多核时代，多线程的并发处理速度比单线程的速度更快，所以可以使用多线程来生产数据，同样可以使用多线程来消费数据，而更复杂的情况是，消费者消费的数据有可能是需要继续处理，于是消费者处理完数据，他又作为生产者把数据放在新的队列中，交给其他的消费者继续处理。

我们可以假设这样的场景，生产者1负责将客户端发送的所有消息存放在阻塞队列1中，消费者1从队列中读消息，然后通过消息id进行散列，得到那个队列中的一个，然后根据编号将消息存放在不同的对列中。然后每一个列对应一个消费者，分别对分发后的数据进行处理。

